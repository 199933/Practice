(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00afb72d"],{"1dde":function(t,a,i){var s=i("d039"),e=i("b622"),n=i("2d00"),o=e("species");t.exports=function(t){return n>=51||!s((function(){var a=[],i=a.constructor={};return i[o]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},2815:function(t,a,i){"use strict";var s=i("daea"),e=i.n(s);e.a},"29d3":function(t,a,i){"use strict";var s=i("3554"),e=i.n(s);e.a},3554:function(t,a,i){},"3b34":function(t,a,i){},4261:function(t,a,i){"use strict";var s=i("e5f0"),e=i.n(s);e.a},6177:function(t,a,i){"use strict";var s=i("3b34"),e=i.n(s);e.a},6285:function(t,a,i){"use strict";var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"content"},[i("div",{staticClass:"content-top"},[t._t("default")],2),i("div",{staticClass:"content-main"},t._l(t.data,(function(a,s){return i("div",{key:s,staticClass:"main",on:{click:function(a){return a.preventDefault(),t.goShop(t.data[s].id)}}},[i("a",{attrs:{href:""}},[i("img",{attrs:{src:t.BaseUrL+a.picture,alt:""}})]),i("p",{staticClass:"name"},[t._v(t._s(t._f("bookName")(a.name)))]),i("p",{staticClass:"price"},[t._v(t._s(t._f("meiyuan")(a.prince)))])])})),0)])},e=[],n=(i("a434"),i("a9e3"),{data:function(){return{data:{},book_details:{book_id:Number}}},props:{start:{type:Number}},mounted:function(){var t=this;this.$axios({method:"get",url:"".concat(this.BaseUrL,"/book/hot_book")}).then((function(a){t.data=a.data.data.splice(t.start,6)}))},filters:{bookName:function(t){return t.length>13?t.substring(0,13)+"...":t},meiyuan:function(t){return"$"+t}},methods:{goShop:function(t){this.book_details.book_id=t,this.$router.push({path:"/shop",query:{id:t}})}}}),o=n,r=(i("eb54"),i("2877")),u=Object(r["a"])(o,s,e,!1,null,"e01847b2",null);a["a"]=u.exports},"65f0":function(t,a,i){var s=i("861d"),e=i("e8b5"),n=i("b622"),o=n("species");t.exports=function(t,a){var i;return e(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!e(i.prototype)?s(i)&&(i=i[o],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===a?0:a)}},"6d02":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAYAAADwMZRfAAABbklEQVQ4T6WSMUsDQRCF5x3k+ghWQasUgoiIkNL8Ae1thGAtt3uKhSKYJk04yCzpAhKx8B/YCBZqI4JgY2shImgnYiy8ZWQlhngmlwtOO2++ffNmQSkVBMG053k31tqVZrN5NUyKNIjWuk1EFSK673Q6M61W63OQfigkDMM5EbklIq87GDIzjwOB1trZL/UNvfi+X6zX629J0EAnWut1IjoY8GrEzNt/IGEYFqy1ZQCzAOZFpARgMiWrVxG5JqJbz/Pu4jg+c7YfiaiQFvCI3geUUlsAon9ANr4zUUrtAqiNCxKRhjFmsxes1toF6QLNWjVm3nPi/uu41Y4BrGagnDDz8o/u14m11vtEVB0FEZG2MabnOgk5IqK1DJALY0x5oBOl1DmApQyQJ2NM71sknTwQ0ZSDiMizu5jv+4fW2ok4jt2qFQAQEcnn8361Wo2TwbpTn3Y1l7lcrhFF0Xu/qyAIFgHsAFhg5qJ7y/W/AIVrinWU4aCgAAAAAElFTkSuQmCC"},"780c":function(t,a,i){},"7a19":function(t,a,i){"use strict";var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{attrs:{id:"shop1"}},[i("div",{staticClass:"top-menu"},[t._t("default")],2)])},e=[],n={},o=n,r=(i("29d3"),i("2877")),u=Object(r["a"])(o,s,e,!1,null,"6239ac54",null);a["a"]=u.exports},8418:function(t,a,i){"use strict";var s=i("c04e"),e=i("9bf2"),n=i("5c6c");t.exports=function(t,a,i){var o=s(a);o in t?e.f(t,o,n(0,i)):t[o]=i}},"8c43":function(t,a,i){"use strict";var s=i("780c"),e=i.n(s);e.a},a434:function(t,a,i){"use strict";var s=i("23e7"),e=i("23cb"),n=i("a691"),o=i("50c4"),r=i("7b0b"),u=i("65f0"),c=i("8418"),l=i("1dde"),d=i("ae40"),m=l("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,h=9007199254740991,b="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!m||!f},{splice:function(t,a){var i,s,l,d,m,f,g=r(this),k=o(g.length),C=e(t,k),_=arguments.length;if(0===_?i=s=0:1===_?(i=0,s=k-C):(i=_-2,s=v(p(n(a),0),k-C)),k+i-s>h)throw TypeError(b);for(l=u(g,s),d=0;d<s;d++)m=C+d,m in g&&c(l,d,g[m]);if(l.length=s,i<s){for(d=C;d<k-s;d++)m=d+s,f=d+i,m in g?g[f]=g[m]:delete g[f];for(d=k;d>k-s+i;d--)delete g[d-1]}else if(i>s)for(d=k-s;d>C;d--)m=d+s-1,f=d+i-1,m in g?g[f]=g[m]:delete g[f];for(d=0;d<i;d++)g[d+C]=arguments[d+2];return g.length=k-s+i,l}})},ae40:function(t,a,i){var s=i("83ab"),e=i("d039"),n=i("5135"),o=Object.defineProperty,r={},u=function(t){throw t};t.exports=function(t,a){if(n(r,t))return r[t];a||(a={});var i=[][t],c=!!n(a,"ACCESSORS")&&a.ACCESSORS,l=n(a,0)?a[0]:u,d=n(a,1)?a[1]:void 0;return r[t]=!!i&&!e((function(){if(c&&!s)return!0;var t={length:-1};c?o(t,1,{enumerable:!0,get:u}):t[1]=1,i.call(t,l,d)}))}},b6fc:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAYAAADwMZRfAAABiklEQVQ4T52SzytsYRzGn+f14w+gOZRYSObUTZKyvPbOsbdRsrbhZkG33M3sFP+AyMIfIKdbSvmxmZSyUfOWLCSZM5quNKk74zw6ZGLMD7zb7/P99LzP8yXqvF4/39OC4snjY/P4+d/2dC0p60FcL1wHMSXpwt44Lk5YrKavCXHH8gMypVMCJl6UOGuDxOoXIGLSC9MkR16XBIUwps9uJ+4rQVWdJL1wmsRapVjSsg065j9A+v3bLgONRtIPAwwKGiGZqJWVhDtCx6I5pXRWipr2YttXJLrqBVxvJuiBrpf7BWr5u5AImHnOxPXCRRCpL4OklUzQMVcONumFaySmPwuSkLKB8zvWv2lH8de2QEw0BAlBJnD8V927il0/twToTyOIgHW745Rdv4Mk/ewmwclGEAiHmcAZre7ECw9A/GwEEXBtd5zyWVQ4CS8JdL9AlIWYUhM3TKm5LTLFJQhTJChBtpBoxT5LFcHGVWd3wViDo3//o5XsbmfhrSvXyw2DWpA0ZAOnD6Di+RPQrZmgzVkHqQAAAABJRU5ErkJggg=="},b877:function(t,a,i){},daea:function(t,a,i){},e5f0:function(t,a,i){},e8b5:function(t,a,i){var s=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}},eb54:function(t,a,i){"use strict";var s=i("b877"),e=i.n(s);e.a},f308:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("top-menu",[i("h3",[t._v("商品详情")])]),i("div",{attrs:{id:"shop"}},[i("div",{staticClass:"left"},[i("shop1",{attrs:{BookDetail:t.BookDetail.book_details}}),i("shop2")],1),i("div",{staticClass:"right",class:{isFixd:t.isFixd}},[i("shop3",{attrs:{BookDetail:t.BookDetail.book_details,others:t.BookDetail.others}})],1)])],1)},e=[],n=(i("a9e3"),function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"shop1"}},[s("div",{staticClass:"container coontent"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 left"},[s("div",{staticClass:"proShow"},[s("img",{attrs:{src:this.BaseUrL+t.BookDetail.picture,alt:""}}),s("div",{staticClass:"bianti"},[s("img",{attrs:{src:this.BaseUrL+t.BookDetail.picture,alt:""}})])]),s("div",{staticClass:"pro"},[s("h2",[t._v(t._s(t.BookDetail.name))]),s("div",{staticClass:"star"},[s("ul",[t._l(t.starNum,(function(t,a){return s("li",{key:a},[s("img",{attrs:{src:i("b6fc"),alt:""}})])})),t._l(t.NostarNum,(function(t,a){return s("li",{key:a+"index"},[s("img",{attrs:{src:i("6d02"),alt:""}})])}))],2),s("div",{staticClass:"hengxian"})]),s("div",{staticClass:"price"},[s("del",[t._v(t._s(t._f("meiyuan")(t.BookDetail.prince)))]),s("span",[t._v(t._s(t._f("meiyuan")(t.BookDetail.prince-30+".00")))])]),s("div",{staticClass:"miaoshu"},[s("p",[t._v(" "+t._s(t.BookDetail.remark)+" ")])]),s("div",{staticClass:"kucun"},[s("p",[t._v("库存: "),s("span",[t._v(t._s(t.BookDetail.number))])])]),s("div",{staticClass:"pro-pay"},[s("div",{staticClass:"one"},[s("form",{attrs:{autocomplete:"off"},on:{submit:function(a){return a.preventDefault(),t.onSubmit(a)}}},[s("button",{staticClass:"minus",attrs:{type:"button",value:"-"},on:{click:function(a){t.addToCartData.number--<=1&&(t.addToCartData.number=1)}}},[t._v("-")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addToCartData.number,expression:"addToCartData.number"}],staticClass:"input-text",attrs:{type:"number",id:"quantity",step:1,min:1,max:t.BookDetail.number},domProps:{value:t.addToCartData.number},on:{input:function(a){a.target.composing||t.$set(t.addToCartData,"number",a.target.value)}}}),s("button",{staticClass:"plus",attrs:{type:"button",value:"+"},on:{click:function(a){t.addToCartData.number++>=t.BookDetail.number&&(t.addToCartData.number=t.BookDetail.number)}}},[t._v("+")])])]),s("div",{staticClass:"two"},[s("button",{attrs:{disabled:t.btn},on:{click:function(a){return t.addToCart()}}},[s("svg",{staticClass:"icon",attrs:{t:"1584499785191",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3370",width:"16",height:"16"}},[s("path",{attrs:{d:"M891.136 313.728H758.656v-23.552c0-23.552-4.608-47.232-9.088-70.784C712.96 82.432 571.392 2.304 438.912 40.064c-64 18.816-118.784 61.312-150.784 122.752-22.784 47.232-32 99.072-27.392 151.04h-127.872c-18.304 0-36.48 18.944-36.48 37.76v396.416c0 136.832 105.088 245.376 237.568 245.376h356.352c132.48 0 237.568-108.544 237.568-245.376V351.488c-0.256-18.816-18.432-37.76-36.736-37.76z m-539.008-118.016c22.784-42.496 64-75.52 109.568-89.6 95.872-28.288 200.96 28.288 228.352 132.096 4.608 18.816 4.608 33.024 4.608 51.968v23.552H329.344c-4.608-37.76 4.48-80.256 22.784-118.016z m507.008 547.456c0 94.336-77.696 174.592-168.96 174.592H333.824c-91.392 0-168.96-80.256-168.96-174.592V384.512h694.272v358.656z m0 0","p-id":"3371",fill:"#ffffff"}})]),t._v(" 加入购物车 ")]),s("span",{staticClass:"notice",style:{display:t.isMaxNum}},[t._v("超过库存！")])])])])])])])])}),o=[],r={data:function(){return{starNum:3,NostarNum:2,addToCartData:{book_id:Number,number:1},btn:!1,isMaxNum:"none"}},mounted:function(){},props:{BookDetail:{type:Object,default:function(){return{BookDetail:{author:"",cate_name:"",id:"",name:"",number:"",picture:"",pid:"",prince:"",remark:"",sales:""}}}}},filters:{meiyuan:function(t){return"$"+t}},methods:{addToCart:function(){var t=this;this.addToCartData.book_id=this.$route.query.id,this.addToCartData.number<=this.BookDetail.number&&this.addToCartData.number>=1?(this.isMaxNum="none",this.$axios({method:"post",url:"".concat(this.BaseUrL,"/cart/add_to_cart"),data:JSON.stringify(this.addToCartData)}).then((function(a){t.$router.push({path:"/cart"}).catch((function(t){}))})),console.log("ok")):(this.isMaxNum="inline-block",console.log("no"))}}},u=r,c=(i("2815"),i("2877")),l=Object(c["a"])(u,n,o,!1,null,"3b7391ca",null),d=l.exports,m=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container-fulid",attrs:{id:"shop2"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"menu col-md-12"},[s("ul",t._l(t.menu,(function(a,i){return s("li",{key:i,on:{click:function(a){return t.showStyle(i)}}},[s("span",{class:t.liIndex==i?t.active:""},[t._v(" "+t._s(a)+" ")])])})),0)]),s("div",{staticClass:"content"},[s("div",{staticClass:"one",class:{onshow:t.show.one}},[s("p",[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, nostrud ipsum consectetur sed do, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat. ")]),s("p",[t._v(" Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. ")])]),s("div",{staticClass:"two",class:{onshow:t.show.two}},[s("div",{staticClass:"pinglun"},[0==t.pinglun?s("div",{staticClass:"nopinglun container-fluid"},[t._m(0)]):s("div",{staticClass:"havepinglun container-fluid"},[s("div",{staticClass:"row"},t._l(t.UserPinglun,(function(a,e){return s("div",{key:e,staticClass:"col-md-12 onePinglun"},[s("div",{staticClass:"content"},[s("span",{staticClass:"user"},[t._v("用户: "+t._s(a.user_name))]),s("span",{staticClass:"time"},[t._v("时间: "+t._s(a.create_time))]),s("div",{staticClass:"star"},[s("span",[t._v("用户评星:")]),s("ul",[t._l(parseInt(a.stars),(function(t){return s("li",{key:t+"index1"},[s("img",{attrs:{src:i("b6fc"),alt:""}})])})),t._l(parseInt(5-a.stars),(function(t,a){return s("li",{key:a+"index"},[s("img",{attrs:{src:i("6d02"),alt:""}})])}))],2)]),s("div",{staticClass:"pinglunContent"},[t._v(" "+t._s(a.message)+" ")])])])})),0)]),s("div",{staticClass:"send"},[s("div",{staticClass:"centent"},[s("form",{staticClass:"form-horizontal formWrapper"},[s("div",{staticStyle:{"margin-left":"10%"}},[s("div",{staticClass:"start"},[t._v(" 您的评星为： "),s("ul",[t._l(t.starNum,(function(a,e){return s("li",{key:e,on:{click:function(a){return t.ChooseStar(e+1)}}},[s("img",{attrs:{src:i("b6fc"),alt:""}})])})),t._l(t.NostarNum,(function(a,e){return s("li",{key:e+"index",on:{click:function(a){return t.ChooseNoStar(e+1)}}},[s("img",{attrs:{src:i("6d02"),alt:""}})])}))],2)]),s("div",{staticClass:"form-top"},[s("h5",[t._v("您的评论")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pinglunData.message,expression:"pinglunData.message"}],staticClass:"form-control",staticStyle:{width:"82.5%"},attrs:{rows:"3"},domProps:{value:t.pinglunData.message},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.SendPinglun(a)},input:function(a){a.target.composing||t.$set(t.pinglunData,"message",a.target.value)}}})]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-sm-offset-2 col-sm-10"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.SendPinglun}},[t._v("提交")])])])])])])])])])]),s("div",{staticClass:"tuijian"},[s("book",{attrs:{start:0}},[s("p",[t._v("推荐书籍")])])],1)])])},f=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("p",{staticClass:"title"},[t._v("评论")]),i("p",{staticClass:"content"},[t._v("现在还没有评论")])])])}],p=i("6285"),v={data:function(){return{menu:["描述","评论"],liIndex:"",active:"active",show:{one:!1,two:!0},noshow:"noshow",pinglun:!1,book_data:{book_id:Number},NostarNum:0,starNum:5,pinglunData:{book_id:Number,pid:0,message:"",stars:Number},UserPinglun:Array}},mounted:function(){this.showStyle(0),this.book_data.book_id=this.$route.query.id,this.pinglunData.book_id=this.$route.query.id,this.pinglunMsg()},methods:{ChooseStar:function(t){this.starNum=t,this.NostarNum=5-t},ChooseNoStar:function(t){this.starNum=t+this.starNum,this.NostarNum=5-this.starNum},showStyle:function(t){this.liIndex=t,this.show.one=0!=t,this.show.two=1!=t},pinglunMsg:function(){var t=this;this.$axios({method:"post",url:"".concat(this.BaseUrL,"/message/view_message"),data:JSON.stringify(this.book_data)}).then((function(a){switch(a.data.code){case"00000":t.UserPinglun=a.data.data,t.pinglun=!0;break;case"20004":t.pinglun=!1;default:break}}))},SendPinglun:function(){var t=this;this.pinglunData.stars=this.starNum,this.$axios({method:"post",url:"".concat(this.BaseUrL,"/message/leave_message"),data:JSON.stringify(this.pinglunData)}).then((function(a){switch(a.data.code){case"00000":t.$alert("评论成功！","提示",{}),t.pinglunData={book_id:Number,pid:0,message:"",stars:Number},t.pinglunMsg();break;case"10010":t.$router.push("/login");break;case"10000":t.$alert("未购买不能评论哦，赶紧下单购买吧！","提示",{}),t.pinglunData={book_id:Number,pid:0,message:"",stars:Number};break;case a.data.code:t.$notify.error({title:"错误",message:"".concat(a.data.msg)});break;default:break}}))}},components:{book:p["a"]}},h=v,b=(i("6177"),Object(c["a"])(h,m,f,!1,null,"34613301",null)),g=b.exports,k=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"shop3"}},[s("div",{staticClass:"one"},[s("p",[t._v("作者")]),s("div",{staticClass:"content"},[s("h5",[t._v(t._s(t.BookDetail.author))]),s("p",[t._v("美国作家")]),s("p",[t._v("享年: 1927~1987, 性别: 男, 代表作: "+t._s(t.BookDetail.name))])])]),s("div",{staticClass:"two"},[s("div",{staticClass:"twoContent"},[s("p",[t._v("热卖书籍")]),t._l(t.book(),(function(a,e){return s("div",{key:e,staticClass:"warpper",on:{click:function(i){return t.go_detail(a.id)}}},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t.BaseUrL+a.picture,alt:""}})]),s("div",{staticClass:"content"},[s("p",{staticClass:"title"},[t._v(t._s(a.name))]),s("ul",[t._l(t.starNum,(function(t,a){return s("li",{key:a},[s("img",{attrs:{src:i("b6fc"),alt:""}})])})),t._l(t.NostarNum,(function(t,a){return s("li",{key:a+"index"},[s("img",{attrs:{src:i("6d02"),alt:""}})])}))],2),s("p",{staticClass:"price"},[t._v(t._s("$"+a.prince))])])])}))],2)])])},C=[],_=(i("fb6a"),{data:function(){return{starNum:3,NostarNum:2,NewOthers:Array,book_details:{book_id:Number}}},props:{BookDetail:{type:Object,default:function(){return{BookDetail:{author:"",cate_name:"",id:"",name:"",number:"",picture:"",pid:"",prince:"",remark:"",sales:""}}}},others:{type:Array,default:function(){return[{id:"",name:"",picture:"",prince:""}]}}},mounted:function(){},methods:{book:function(){return this.others.slice(0,2)},go_detail:function(t){this.book_details.book_id=t,this.$router.push({path:"/shop",query:{id:t}})}}}),A=_,y=(i("4261"),Object(c["a"])(A,k,C,!1,null,"528ec2b6",null)),w=y.exports,N=i("7a19"),D={data:function(){return{datatest:{book_id:Number},BookDetail:{},isFixd:!1}},mounted:function(){var t=this;this.datatest.book_id=this.$route.query.id,this.$axios({method:"post",url:"".concat(this.BaseUrL,"/book/book_details"),data:JSON.stringify(this.datatest)}).then((function(a){t.BookDetail=a.data.data})).catch((function(t){console.log(t)})),window.addEventListener("scroll",this.fixedActiveBtn)},methods:{fixedActiveBtn:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.isFixd=t>=390&&t<=1e3}},components:{shop1:d,shop2:g,shop3:w,topMenu:N["a"]}},x=D,B=(i("8c43"),Object(c["a"])(x,s,e,!1,null,"61ff788b",null));a["default"]=B.exports},fb6a:function(t,a,i){"use strict";var s=i("23e7"),e=i("861d"),n=i("e8b5"),o=i("23cb"),r=i("50c4"),u=i("fc6a"),c=i("8418"),l=i("b622"),d=i("1dde"),m=i("ae40"),f=d("slice"),p=m("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),h=[].slice,b=Math.max;s({target:"Array",proto:!0,forced:!f||!p},{slice:function(t,a){var i,s,l,d=u(this),m=r(d.length),f=o(t,m),p=o(void 0===a?m:a,m);if(n(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?e(i)&&(i=i[v],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return h.call(d,f,p);for(s=new(void 0===i?Array:i)(b(p-f,0)),l=0;f<p;f++,l++)f in d&&c(s,l,d[f]);return s.length=l,s}})}}]);
//# sourceMappingURL=chunk-00afb72d.60e0c0ad.js.map